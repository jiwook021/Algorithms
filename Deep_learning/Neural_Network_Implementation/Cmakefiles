cmake_minimum_required(VERSION 3.10)
project(DeepLearningCV)

set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED TRUE)

# Find packages
find_package(OpenCV REQUIRED)
find_package(Torch REQUIRED)

# Include directories
include_directories(${OpenCV_INCLUDE_DIRS})

# Image classification example
add_executable(image_classifier deeplearning-cv-cpp.cpp)
target_link_libraries(image_classifier ${TORCH_LIBRARIES} ${OpenCV_LIBS})

# Custom CNN example
add_executable(object_detector custom-cnn-cpp.cpp)
target_link_libraries(object_detector ${TORCH_LIBRARIES} ${OpenCV_LIBS})

# Set C++ flags
set_property(TARGET image_classifier PROPERTY CXX_STANDARD 14)
set_property(TARGET object_detector PROPERTY CXX_STANDARD 14)